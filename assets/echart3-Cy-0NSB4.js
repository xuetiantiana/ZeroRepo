import{h as Ke,g as Ne}from"./util-D_xHXW5K.js";import{d as ke,r as P,o as g,c as v,a,t as $,F as O,b as H,e as j,n as Se,p as de,f as ue,_ as he,g as K,h as Q,i as re,j as q,w as ee,k as Qe,l as $e,u as et,m as tt,q as ot,s as nt,v as st}from"./index-_LG_nvQj.js";import{i as lt}from"./index-CVOXnaBf.js";const fe=i=>(de("data-v-2bc8adea"),i=i(),ue(),i),at={key:0,class:"body"},it={class:"info-item"},ct=fe(()=>a("span",{class:"info-label"},"Node:",-1)),rt={class:"info-value"},dt={class:"info-item"},ut=fe(()=>a("span",{class:"info-label"},"Feature_Path:",-1)),ht={class:"info-value"},ft={key:0,class:"info-file_pat_"},gt={class:"info-label"},mt={class:"info-value"},vt={key:0,style:{"margin-top":"0.5em"}},pt=["onClick"],yt={key:1},bt={key:2,style:{"margin-top":"0.5em"}},xt=fe(()=>a("b",{style:{"margin-top":"0.5em"}},"methods: ",-1)),_t={key:0,class:"info-file_pat_"},Nt={class:"info-label"},St={class:"info-value"},$t={class:"info-label"},Ct=["onClick"],kt=ke({__name:"nodeDetailComponent",props:{currNode:{type:Object,required:!0,default:()=>({})}},setup(i){const z=P(new Set),T=x=>{z.value.has(x)?z.value.delete(x):z.value.add(x)},u=x=>z.value.has(x);return(x,p)=>i.currNode&&i.currNode.metaData?(g(),v("div",at,[a("div",it,[ct,a("span",rt,$(i.currNode.metaData.node),1)]),a("div",dt,[ut,a("span",ht,$(i.currNode.metaData.feature_path),1)]),(g(!0),v(O,null,H(i.currNode.metaData.file_paths,(B,_)=>(g(),v("div",{key:_,class:"info-item"},[(g(!0),v(O,null,H(B,(h,c,k)=>(g(),v(O,{key:k},[c!=="extra"?(g(),v("div",ft,[a("span",gt,$(c)+":",1),a("span",mt,$(h),1)])):j("",!0)],64))),128)),B.extra?(g(),v("div",vt,[(g(!0),v(O,null,H(B.extra,(h,c,k)=>(g(),v(O,{key:k},[c=="docstring"?(g(),v("div",{key:0,class:Se(["info-docstring",{expanded:u("".concat(_,"-").concat(c))}])},[a("b",null,$(c)+": ",1),a("span",{class:"docstring-content",onClick:I=>T("".concat(_,"-").concat(c))},$(h),9,pt)],2)):c!=="methods"?(g(),v("p",yt,[a("b",null,$(c)+": ",1),a("span",null,$(h),1)])):c=="methods"?(g(),v("div",bt,[xt,(g(!0),v(O,null,H(h,(I,A)=>(g(),v("div",{key:A,style:{"margin-bottom":"0.5em"}},[(g(!0),v(O,null,H(I,(D,y,N)=>(g(),v(O,{key:N},[y!=="docstring"?(g(),v("div",_t,[a("span",Nt,$(y)+":",1),a("span",St,$(D),1)])):y=="docstring"?(g(),v("div",{key:1,class:Se(["info-docstring",{expanded:u("".concat(_,"-").concat(A,"-").concat(y))}])},[a("span",$t,$(y)+":",1),a("span",{class:"docstring-content",onClick:F=>T("".concat(_,"-").concat(A,"-").concat(y))},$(D),9,Ct)],2)):j("",!0)],64))),128))]))),128))])):j("",!0)],64))),128))])):j("",!0)]))),128))])):j("",!0)}}),Ce=he(kt,[["__scopeId","data-v-2bc8adea"]]),we=i=>(de("data-v-965b871a"),i=i(),ue(),i),wt={class:"sidebar"},Mt=we(()=>a("div",{class:"sidebar-header"},[a("h2",null,"ZeroRepo")],-1)),Tt={class:"sidebar-content"},At={class:"current-node-box",ref:"nodeModalRef"},Dt={class:"select-node-item",style:{}},It={class:"node-header"},Et={class:"node-title",style:{"margin-right":"12px"}},Bt=we(()=>a("span",null,"CurrNode:  ",-1)),zt={class:"icon"},Ot={class:"node-body"},Ft={style:{display:"flex","flex-direction":"column",flex:"1",overflow:"hidden",padding:"1em 0.5em 0 1em",margin:"1em 0.5em","border-radius":"15px",background:"rgba(212, 212, 212, 0.1)"}},Pt={style:{}},Rt={style:{margin:"0 0 1em","padding-right":"7px","font-size":"18px"}},Wt={style:{"margin-right":"7px","margin-bottom":"6px"}},Lt={class:"selected-nodes-box"},jt=["onClick"],Vt=["onClick"],Gt={class:"node-body"},Ht=ke({__name:"SelectedNodesPanel",props:{selectedNodeList:{type:Array,required:!0,default:[]},currNode:{type:Object,required:!0,default:()=>({})},maxSelectedNodes:{type:Number,required:!0,default:0}},emits:["removeSelectedNode","clearAllSelectedNodes","handleSelectedNodeClick","handleCurrNodePlusClick"],setup(i,{expose:z,emit:T}){const u=i,x=T,p=y=>{console.log(u.selectedNodeList),x("removeSelectedNode",y)},B=()=>{x("clearAllSelectedNodes"),c.value=""},_=y=>{x("handleSelectedNodeClick",y)},h=y=>{x("handleCurrNodePlusClick",y)},c=P(""),k=P(null),I=P({});function A(y,N){y&&(I.value[N]=y)}const D=y=>{y!=null&&Qe(()=>{const N=I.value[y];N&&k.value&&N.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})};return z({handleNodeSearch:D}),(y,N)=>{const F=K("el-button"),V=K("el-option"),le=K("el-select"),G=K("el-icon");return g(),v("div",null,[a("div",wt,[Mt,a("div",Tt,[a("div",At,[a("div",Dt,[a("div",It,[a("h3",Et,[Bt,Q(" "+$(i.currNode&&typeof i.currNode=="object"&&Object.keys(i.currNode).length>0?i.currNode.hasAbbr?i.currNode.originalName+" ("+i.currNode.name+")":i.currNode.metaData.node:"None"),1)]),i.currNode&&typeof i.currNode=="object"&&Object.keys(i.currNode).length>0?(g(),v("div",{key:0,class:"plus-button",onClick:N[0]||(N[0]=b=>h(i.currNode))},[a("span",zt,$(i.selectedNodeList.some(b=>b.idx===i.currNode.idx)?"-":"+"),1)])):j("",!0)]),a("div",Ot,[i.currNode&&i.currNode.metaData?(g(),re(Ce,{key:0,currNode:i.currNode},null,8,["currNode"])):j("",!0)])])],512),a("div",Ft,[a("div",Pt,[a("h4",Rt,[Q(" Added Nodes ("+$(i.selectedNodeList.length)+") ",1),q(F,{class:"clear-all-btn",size:"small",style:{float:"right"},onClick:B},{default:ee(()=>[Q("Clear All")]),_:1})]),a("div",Wt,[q(le,{modelValue:c.value,"onUpdate:modelValue":N[1]||(N[1]=b=>c.value=b),filterable:"",placeholder:"Type to search yours added nodes below...",clearable:"",style:{width:"100%"},onChange:D},{default:ee(()=>[(g(!0),v(O,null,H(i.selectedNodeList,(b,U)=>{var R;return g(),re(V,{key:b.id,label:((R=b.metaData)==null?void 0:R.node)||b.label,value:U},null,8,["label","value"])}),128))]),_:1},8,["modelValue"])])]),a("div",Lt,[a("div",{ref_key:"selectedNodesScrollContainer",ref:k,class:"selected-nodes-list"},[(g(!0),v(O,null,H(i.selectedNodeList,(b,U)=>(g(),v("div",{key:U,ref_for:!0,ref:R=>A(R,U),class:"select-node-item"},[a("div",{class:"node-header",style:$e({"border-left":"4px solid ".concat(b.selectedColor)})},[a("h3",{onClick:R=>_(b.idx),class:"node-title",style:$e({color:b.selectedColor})},$(b.hasAbbr?b.originalName+" ("+b.name+")":b.metaData.node),13,jt),a("button",{class:"close-btn",onClick:R=>p(b.idx)},[q(G,null,{default:ee(()=>[q(et(tt))]),_:1})],8,Vt)],4),a("div",Gt,[b&&b.metaData?(g(),re(Ce,{key:0,currNode:b},null,8,["currNode"])):j("",!0)])]))),128))],512)])])])])])}}}),qt=he(Ht,[["__scopeId","data-v-965b871a"]]),Me=i=>(de("data-v-e1388d26"),i=i(),ue(),i),Ut={class:""},Xt={style:{height:"100vh"}},Yt={id:"viewport",style:{display:"flex"}},Zt={id:"wrapper",style:{flex:"1",overflow:"hidden",height:"100%"}},Jt=Me(()=>a("div",{id:"echart",style:{width:"100%",height:"100%"}},null,-1)),Kt=Me(()=>a("span",{class:"icon"},"+",-1)),Qt=[Kt],eo={class:"showAllNodes",style:{position:"absolute",right:"20px",top:"15px","z-index":"1000"}},to={style:{position:"absolute",right:"150px",top:"15px","z-index":"1000"}},oo={__name:"echart3",setup(i){const z=P();let T=null,u={nodes:[],links:[]},x=1,p=null,B=!1,_=null,h=null;const c=P([]),k=P(1e6),I=P();let A=0,D=0,y=[];ot(k,(t,o)=>{if(console.log("最大选择数量从 ".concat(o," 变更为 ").concat(t)),c.value.length>t){const e=c.value.slice(t);c.value=c.value.slice(0,t),console.log("由于限制变更，移除了以下节点:",e),alert("由于限制变更，已移除 ".concat(e.length," 个节点"))}});let N=1e3,F=1e3;nt(()=>{N=document.getElementById("echart").getBoundingClientRect().width,F=document.getElementById("echart").getBoundingClientRect().height;const t=Math.min(N,F);x=Math.max(2500/t,1),h=document.getElementById("plusButton"),Ue(),console.log("屏幕尺寸：",N,F,2500/t,x);const o=document.getElementById("echart");o&&(p=lt(o),Promise.all([fetch("./data/webui.json").then(e=>e.json()),fetch("./data/map.json").then(e=>e.json())]).then(([e,n])=>{console.log("webui:",e),console.log("map:",n),b(e.data_flow_graph),T=Ke(e,n),me(1),u=te(T),Oe(p)}).catch(e=>{console.error("请求失败:",e)}),st(()=>{p.dispose()}))});const V=P(!1),le=t=>{V.value=!V.value,t=V.value?5:1,me(t),u=te(T),p.setOption({series:[{data:u.nodes,links:u.links}]}),p.setOption({series:[{center:[0,0]}]})},G=[],b=t=>{t.forEach(o=>{const e=o.from,n=o.to;if(e&&n){const s={source:"1_"+e,target:"1_"+n,type:"rootLink",content:o,label:{show:!0,formatter:o.data_type||o.label||"",color:"#000",fontSize:9,position:"middle"},lineStyle:{color:"#000",width:1,type:"dashed",opacity:1},symbol:["circle","arrow"],symbolSize:[4,8]};G.push(s)}}),console.log(G)};function U(t){const o=[{name:"test1",x:t,y:t},{name:"test2",x:-t,y:-t},{name:"test3",x:-t,y:t},{name:"test4",x:t,y:-t}];return console.log("Dddd"),o.map(e=>({...e,id:e.name,itemStyle:{opacity:0},label:{show:!1}}))}const R=U(680),Te=t=>({0:0,1:125,2:215,3:310,4:400,5:500})[t]||420+(t-6)*40,W=["#686759","#0068B8","#62BDE4","#52E0FC","#86DCF8","#BAD7F3"],Ae={"Advanced Modeling Techniques":"#FF8364",Algorithms:"#5414E9",Workflow:"#00C6A2","Data Engineering":"#0368FF"},ge=t=>{let o;return t==0?o=5:t==1?o=100/x:t==2?o=80/x:t==3?o=70/x:t==4?o=38/x:o=30/x,o},De=(t,o)=>{if(console.log("!!@@@@",o,I.value),t<=1)return{color:W[t%W.length],borderColor:W[t%W.length],borderWidth:.5,opacity:1};{let e=!1;return I.value&&I.value.idx==o.idx&&(e=!0),{color:W[t%W.length],borderColor:W[t%W.length],borderWidth:.5,shadowColor:e?"#0068B8":"transparent",shadowBlur:20}}},Ie=(t,o)=>({color:t==1?"rgba(0,0,0,.1)":Ae[o.level1Root]||"rgba(0,0,0,.4)",width:1}),Ee=(t,o=0,e="",n=0,s)=>{if(t>=5){let d=o*180/Math.PI;const m=Be(0,0,(s==null?void 0:s.x)+0,(s==null?void 0:s.y)+0,100,e),C=ge(5);return{show:!0,position:[m.dx+C,m.dy+C],fontSize:10,color:"#333",fontWeight:"normal",align:"center",verticalAlign:"middle",rotate:d>90&&d<270?180-d:-d}}let r={};return t==0?r={fontSize:12,color:"#333",fontWeight:"normal"}:r={position:"inside",fontSize:t===1?12:11,color:t==1?"#fff":"#333",verticalAlign:"middle",align:"center",fontWeight:t===1?"bold":"normal",width:200},r};function ae(t,o=10,e="Arial"){const s=(ae._canvas||(ae._canvas=document.createElement("canvas"))).getContext("2d");return s.font="".concat(o,"px ").concat(e),s.measureText(t).width}const Be=(t,o,e,n,s=30,r)=>{r.length*3,s=ae(r)/2+25;const m=e-t,C=n-o,l=Math.atan2(C,m),S=l*(180/Math.PI),f=Math.cos(l)*s,E=Math.sin(l)*s;return{dx:f,dy:E,angleDeg:S}},te=t=>{function o(l){if(!l||l.visible===!1)return null;const S={...l};return S.children&&Array.isArray(S.children)&&(S.children=S.children.map(o).filter(f=>!!f)),S}const e=o(t);console.log("开始转换为 Graph 数据格式 treeData",e),y=e;const n=[],s=[],r=new Map;function d(l,S=0){function f(w){let M=1;return w<=1?M=1:w==1?M=.75:w==2?M=.5:w==3?M=.3:w==4?M=.25:M=.08,M}if(!l.children||l.children.length===0)return f(S);const E=l.children.reduce((w,M)=>w+d(M,S+1),0),Y=f(S);return Math.max(E,Y)}function m(l,S=null,f=0,E=0,Y=2*Math.PI){if(!l||!l.name||l.visible===!1)return;const w=f<=1?f+"_"+(l.feature_path||l.name):f+"_"+(l.feature_path||l.name)+"_"+l.idx,M=Te(f);let L,ne=0,se=0;f===0?(ne=0,se=0,L=0):(L=(E+Y)/2,ne=Math.cos(L)*M,se=Math.sin(L)*M);const Xe={id:w,idx:l.idx,name:l.name||"Unknown",originalName:l.originalName?l.originalName:null,hasAbbr:l.hasAbbr,feature_path:l.feature_path||"",level:f,metaData:l.metaData,x:ne,y:se,angle:L,sectorStart:E,sectorEnd:Y,fixed:!0,symbolSize:l.symbolSize||ge(f),label:Ee(f,L,l.name||"",M,{x:ne,y:se}),itemStyle:l.itemStyle||De(f,l),category:f};if(f!=0&&n.push(Xe),r.set(l.name,w),S&&f>=2&&s.push({source:S,target:w,lineStyle:l.lineStyle||Ie(f,l)}),l.children&&l.children.length>0){const be=l.children.map(J=>d(J,f+1)),Ye=be.reduce((J,ce)=>J+ce,0);let xe=Y-E;f===0&&(xe=2*Math.PI);let ie=E;l.children.forEach((J,ce)=>{const Ze=be[ce]/Ye*xe,Je=ie,_e=ie+Ze;m(J,w,f+1,Je,_e),ie=_e})}}m(e,null,0,0,2*Math.PI),console.log("Graph 节点布局完成，节点数量:",n.length,n,s),Ne(e)<=2?G.forEach(l=>{l.label.show=!0}):G.forEach(l=>{l.label.show=!1});let C=[...G,...s];return console.log("!!!linksResult",C),{nodes:[...R,...n],links:C}},me=t=>{function o(e,n){e.visible=n<=t,e.children&&e.children.length>0&&e.children.forEach(s=>o(s,n+1))}T&&o(T,0)},ze=t=>{function o(s,r){if(s.idx===r)return s;if(s.children)for(const d of s.children){const m=o(d,r);if(m)return m}return null}const e=o(T,t);let n=!1;if(e&&e.children){for(const s of e.children)if(s.visible===!1){n=!0;break}e.children.forEach(s=>{if(s.visible=!s.visible,!s.visible&&s.children){const r=d=>{d.visible=!1,d.children&&d.children.forEach(r)};r(s)}})}return n},Oe=t=>{if(!u||!u.nodes||u.nodes.length===0){console.error("Graph 数据不存在或为空:",u);return}console.log("初始化 Graph 图表，节点数量:",u.nodes.length);var o={tooltip:{trigger:"item",triggerOn:"mousemove",extraCssText:"max-width: 400px; white-space: normal;",formatter:function(e){if(e.dataType==="node"){const n=e.data;let s="<strong>Node: </strong>".concat(n.hasAbbr?n.originalName+" ("+n.name+")":n.name," <br/>");return n.feature_path&&(s+="<strong>Feature Path: </strong> ".concat(n.feature_path,"<br/>")),s}if(e.dataType==="edge"&&e.data&&e.data.type==="rootLink"){let n="<strong>Flow Graph:</strong><br/>";return n+="<strong>From: </strong> ".concat(e.data.content.from,"<br/>"),n+="<strong>To: </strong> ".concat(e.data.content.to,"<br/>"),e.data.label&&e.data.label.formatter&&(n+="<strong>Data Type: </strong> ".concat(e.data.content.data_type,"<br/>")),n}return e.dataType==="edge"?"":e.name||""}},series:[{type:"graph",layout:"none",roam:"move",zoom:x,center:[0,0],data:u.nodes,links:u.links,symbol:"circle",symbolSize:30,label:{show:!0,position:function(e){return e&&e.data&&e.data.level>=5?"right":"inside"},fontSize:function(e){return e&&e.data&&e.data.level>=5?10:12},formatter:function(e){var n=e.name||"";if(e&&e.data&&e.data.level>=3)return n;for(var s=n.split(" "),r=[],d=0;d<s.length;d++){var m=s[d];r.push(m)}return r.join("\n")}},lineStyle:{color:"source",curveness:0,width:1},animationDurationUpdate:750,animationEasingUpdate:"quinticInOut"}]};t.setOption(o),t.on("mouseover",function(e){if(e.componentType==="series"&&e.dataType==="node"&&e.data.level>1){const n=e.data.idx;if(clearTimeout(Z),X===n)return;X=n,ye(e.data)}}),t.on("mouseout",function(e){if(e.componentType==="series"&&e.dataType==="node"&&e.data.level>1){const n=e.data.idx;if(X!==n)return;clearTimeout(Z),Z=setTimeout(()=>{X===n&&!Ve()&&(oe(),X=null)},200)}}),setTimeout(()=>{[,,,,A,D]=t.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform(),console.log("初始偏移量:",{initialTranslateX:A,initialTranslateY:D})},100),t.on("graphRoam",function(){B=!0,oe(),setTimeout(()=>{B=!1,console.log("拖拽/缩放结束")},300),Re()}),t.on("mousedown",function(){console.log("mousedown"),B=!0,oe()}),t.on("mouseup",function(){console.log("mouseup"),setTimeout(()=>{B=!1,console.log("鼠标操作结束")},100)}),t.on("click",function(e){if(e.dataType==="node"){console.log("params.data",e.data),e.data.level>1?I.value=e.data:I.value=null;const n=e.data.idx;ze(n),u=te(T),t.setOption({series:[{data:u.nodes,links:u.links}]}),We(e.data)}})},ve=t=>{console.log(u.nodes);const o=u.nodes.find(e=>e.idx===t);if(console.log("!!!",t,o),o){const e=u.nodes.findIndex(n=>n.idx===t);u.nodes[e].emphasis={itemStyle:{color:"rgb(43, 124, 233)"},label:{fontWeight:"bold",color:"#000"}},p.setOption({series:[{center:[o.x,o.y],data:u.nodes}]}),p.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e}),setTimeout(()=>{p.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e}),delete u.nodes[e].emphasis,p.setOption({series:[{data:u.nodes}]})},2e3),console.log("聚焦到节点: ".concat(t))}else console.log("节点 ".concat(t," 不在当前视图中，开始逐层展开")),Fe(t)},Fe=t=>{let o=!1;const e=(s,r)=>{if(!s)return!1;if(s.idx===r)return s.visible=!0,!0;if(s.children&&s.children.length>0){for(const d of s.children)if(e(d,r))return s.visible=!0,s.children.forEach(m=>{m.visible=!0}),!0}return!1};(()=>{o||(o=e(T,t),o&&(u=te(T),p.setOption({series:[{data:u.nodes,links:u.links}]}),ve(t)))})()},Pe=t=>{console.log("22",t),ve(t)},Re=()=>{let t=Ne(y);console.log("depth",t);const e=p.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform(),[,,,,n,s]=e,r=1500/5*(t-1),d=Math.min((r-N)/2+N,r),m=Math.min((r-F)/2+F,r);let C=n,l=s;console.log(N,F),Math.abs(n-A)>d&&(C=n>A?A+d:A-d),Math.abs(s-D)>m&&(l=s>D?D+m:D-m),console.log("&&",n,s),console.log("x移动了多少",Math.abs(n-A),"最多可拖拽",d),console.log("y移动了多少",Math.abs(s-D),"最多可拖拽",m),(C!==n||l!==s)&&(pe(),console.log("aaa",C-n,l-s))},pe=()=>{p.setOption({series:[{center:[0,0],data:u.nodes}]}),setTimeout(()=>{p.setOption({series:[{data:u.nodes}]})},150)};function We(t){if(!p||!t)return;console.log("@@@",t);const o=p.convertToPixel({seriesIndex:0},[t.x,t.y]),e=p.getDom(),n=e.offsetWidth,s=e.offsetHeight,r=p.getModel().getSeriesByIndex(0).option.zoom,d=80*r,[m,C]=o;let l=!1;if((m<d||m>n-d||C<d||C>s-d)&&(l=!0),l){console.log("needMove");const{x:S,y:f}=t,E=Math.sqrt(S*S+f*f);if(E===0)return;const w=Math.max(0,E-200/r)/E,M=S*w,L=f*w;p.setOption({series:[{center:[M,L]}]})}}const Le=t=>{c.value.some(e=>e.idx===t.idx)?c.value=c.value.filter(e=>e.idx!==t.idx):(c.value.unshift(t),z.value.handleNodeSearch(0))},je=()=>{if(!(_&&_.level<=1)&&_){const t=_.idx;if(c.value.some(e=>e.idx===t))console.log("点击减号，移除节点:",_),c.value=c.value.filter(e=>e.idx!==t);else{if(c.value.length>=k.value){alert("最多只能选择 ".concat(k.value," 个节点！"));return}console.log("点击加号，添加节点:",_),c.value.unshift(_),z.value.handleNodeSearch(0),console.log("!!!!",c)}console.log("当前选择的节点列表:",c.value),ye(_)}},ye=t=>{if(!(!h||B))try{const o=c.value.some(l=>l.idx===t.idx),e=p.convertToPixel("series",[t.x,t.y]),n=t.symbolSize||30;console.log(e);const r=p.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform();let d=1;Array.isArray(r)&&r.length===6?d=r[0]:r&&typeof r.zoom=="number"&&(d=r.zoom);const m=n/2*d*Math.sin(Math.PI/4),C=-n/2*d*Math.sin(Math.PI/4);h.style.left=e[0]+m+"px",h.style.top=e[1]+C+"px",h.style.display="flex",o?(h.getElementsByClassName("icon")[0].textContent="−",h.style.backgroundColor="#f56c6c",h.title="点击取消选择"):c.value.length>=k.value?(h.getElementsByClassName("icon")[0].textContent="+",h.style.backgroundColor="#909399",h.title="已达到最大选择数量 (".concat(c.value.length,"/").concat(k.value,")")):(h.getElementsByClassName("icon")[0].textContent="+",h.style.backgroundColor="#409eff",h.title="点击选择节点 (".concat(c.value.length,"/").concat(k.value,")")),_=t}catch(o){console.error("显示按钮失败:",o)}},oe=()=>{clearTimeout(Z),h&&(h.style.display="none"),_=null,X=null},Ve=()=>h?h.matches(":hover"):!1,Ge=t=>{c.value=c.value.filter(o=>o.idx!==t),console.log("移除节点:",t),console.log("当前选择的节点列表:",c.value)},He=()=>{c.value=[]},qe=t=>{k.value=t,console.log("从组件更新最大选择节点数量为:",t)},Ue=()=>{h&&(h.addEventListener("mouseenter",()=>{console.log("鼠标进入加号按钮"),clearTimeout(Z)}),h.addEventListener("mouseleave",()=>{console.log("鼠标离开加号按钮"),oe()}))};let Z=null,X=null;return(t,o)=>{const e=K("el-button");return g(),v("div",Ut,[a("div",Xt,[a("div",Yt,[q(qt,{ref_key:"selectedNodesPanelRef",ref:z,style:{width:"20%","min-width":"300px","max-width":"600px"},selectedNodeList:c.value,maxSelectedNodes:k.value,currNode:I.value,onRemoveSelectedNode:Ge,onClearAllSelectedNodes:He,onUpdateMaxNodes:qe,onHandleSelectedNodeClick:Pe,onHandleCurrNodePlusClick:Le},null,8,["selectedNodeList","maxSelectedNodes","currNode"]),a("div",Zt,[Jt,a("div",{id:"plusButton",class:"plus-button",style:{display:"none"},onClick:je},Qt),a("div",eo,[q(e,{style:{width:"120px"},color:"rgb(43, 124, 233)",type:"primary",onClick:o[0]||(o[0]=n=>le(V.value))},{default:ee(()=>[Q($(V.value?"Close All Nodes":"Show All Nodes"),1)]),_:1})]),a("div",to,[q(e,{class:"center-view-btn",style:{width:"120px"},color:"rgb(43, 124, 233)",onClick:pe},{default:ee(()=>[Q(" Center View")]),_:1})])])])])])}}},ao=he(oo,[["__scopeId","data-v-e1388d26"]]);export{ao as default};
