import{h as Ke,g as _e}from"./util-D_xHXW5K.js";import{d as $e,r as P,o as g,c as p,a,t as C,F as O,b as G,e as j,n as Ne,p as re,f as de,_ as ue,g as oe,h as Z,i as ce,j as J,w as ne,k as Qe,l as Se,m as et,q as tt,s as ot}from"./index-DogI2RdG.js";import{i as nt}from"./index-CVOXnaBf.js";const he=i=>(re("data-v-ae8090cc"),i=i(),de(),i),st={key:0,class:"body"},lt={class:"info-item"},at=he(()=>a("span",{class:"info-label"},"Node:",-1)),it={class:"info-value"},ct={class:"info-item"},rt=he(()=>a("span",{class:"info-label"},"Feature Path:",-1)),dt={class:"info-value"},ut={key:0,class:"info-file_pat_"},ht={class:"info-label"},ft={class:"info-value"},gt={key:0,style:{"margin-top":"0.5em"}},mt=["onClick"],vt={key:1},pt={key:2,style:{"margin-top":"0.5em"}},yt=he(()=>a("b",{style:{"margin-top":"0.5em"}},"methods: ",-1)),bt={key:0,class:"info-file_pat_"},xt={class:"info-label"},_t={class:"info-value"},Nt={class:"info-label"},St=["onClick"],Ct=$e({__name:"nodeDetailComponent",props:{currNode:{type:Object,required:!0,default:()=>({})}},setup(i){const z=P(new Set),T=x=>{z.value.has(x)?z.value.delete(x):z.value.add(x)},u=x=>z.value.has(x);return(x,y)=>i.currNode&&i.currNode.metaData?(g(),p("div",st,[a("div",lt,[at,a("span",it,C(i.currNode.metaData.node),1)]),a("div",ct,[rt,a("span",dt,C(i.currNode.metaData.feature_path),1)]),(g(!0),p(O,null,G(i.currNode.metaData.file_paths,(B,_)=>(g(),p("div",{key:_,class:"info-item"},[(g(!0),p(O,null,G(B,(h,c,k)=>(g(),p(O,{key:k},[c!=="extra"?(g(),p("div",ut,[a("span",ht,C(c)+":",1),a("span",ft,C(h),1)])):j("",!0)],64))),128)),B.extra?(g(),p("div",gt,[(g(!0),p(O,null,G(B.extra,(h,c,k)=>(g(),p(O,{key:k},[c=="docstring"?(g(),p("div",{key:0,class:Ne(["info-docstring",{expanded:u("".concat(_,"-").concat(c))}])},[a("b",null,C(c)+": ",1),a("span",{class:"docstring-content",onClick:I=>T("".concat(_,"-").concat(c))},C(h),9,mt)],2)):c!=="methods"?(g(),p("p",vt,[a("b",null,C(c)+": ",1),a("span",null,C(h),1)])):c=="methods"?(g(),p("div",pt,[yt,(g(!0),p(O,null,G(h,(I,A)=>(g(),p("div",{key:A,style:{"margin-bottom":"0.5em"}},[(g(!0),p(O,null,G(I,(D,b,N)=>(g(),p(O,{key:N},[b!=="docstring"?(g(),p("div",bt,[a("span",xt,C(b)+":",1),a("span",_t,C(D),1)])):b=="docstring"?(g(),p("div",{key:1,class:Ne(["info-docstring",{expanded:u("".concat(_,"-").concat(A,"-").concat(b))}])},[a("span",Nt,C(b)+":",1),a("span",{class:"docstring-content",onClick:F=>T("".concat(_,"-").concat(A,"-").concat(b))},C(D),9,St)],2)):j("",!0)],64))),128))]))),128))])):j("",!0)],64))),128))])):j("",!0)]))),128))])):j("",!0)}}),Ce=ue(Ct,[["__scopeId","data-v-ae8090cc"]]),ke=i=>(re("data-v-b60eba41"),i=i(),de(),i),$t={class:"sidebar"},kt=ke(()=>a("div",{class:"sidebar-header"},[a("h2",null,"ZeroRepo")],-1)),wt={class:"sidebar-content"},Mt={class:"current-node-box",ref:"nodeModalRef"},Tt={class:"select-node-item",style:{border:"2px solid #2b7ce9","box-shadow":"0 8px 24px rgba(43, 124, 233, 0.4)"}},At={class:"node-header"},Dt={class:"node-title",style:{"margin-right":"12px"}},It=ke(()=>a("span",{style:{color:"#2b7ce9"}},"CurrNode:  ",-1)),Et={class:"icon"},Bt={class:"node-body"},zt={style:{padding:"1em 1em 0","border-top":"1px solid #aaa","margin-top":"1em"}},Ot={style:{margin:"0 0 1em"}},Ft={class:"selected-nodes-box"},Pt=["onClick"],Rt=["onClick"],Wt={class:"node-body"},Lt=$e({__name:"SelectedNodesPanel",props:{selectedNodeList:{type:Array,required:!0,default:[]},currNode:{type:Object,required:!0,default:()=>({})},maxSelectedNodes:{type:Number,required:!0,default:0}},emits:["removeSelectedNode","clearAllSelectedNodes","handleSelectedNodeClick","handleCurrNodePlusClick"],setup(i,{expose:z,emit:T}){const u=i,x=T,y=b=>{console.log(u.selectedNodeList),x("removeSelectedNode",b)},B=()=>{x("clearAllSelectedNodes"),c.value=""},_=b=>{x("handleSelectedNodeClick",b)},h=b=>{x("handleCurrNodePlusClick",b)},c=P(""),k=P(null),I=P({});function A(b,N){b&&(I.value[N]=b)}const D=b=>{b!=null&&Qe(()=>{const N=I.value[b];N&&k.value&&N.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})})};return z({handleNodeSearch:D}),(b,N)=>{const F=oe("el-button"),V=oe("el-option"),se=oe("el-select");return g(),p("div",null,[a("div",$t,[kt,a("div",wt,[a("div",Mt,[a("div",Tt,[a("div",At,[a("h3",Dt,[It,Z(" "+C(i.currNode&&typeof i.currNode=="object"&&Object.keys(i.currNode).length>0?i.currNode.hasAbbr?i.currNode.originalName+" ("+i.currNode.name+")":i.currNode.metaData.node:"节点信息"),1)]),i.currNode&&typeof i.currNode=="object"&&Object.keys(i.currNode).length>0?(g(),p("div",{key:0,class:"plus-button",onClick:N[0]||(N[0]=m=>h(i.currNode))},[a("span",Et,C(i.selectedNodeList.some(m=>m.idx===i.currNode.idx)?"-":"+"),1)])):j("",!0)]),a("div",Bt,[i.currNode&&i.currNode.metaData?(g(),ce(Ce,{key:0,currNode:i.currNode},null,8,["currNode"])):j("",!0)])])],512),a("div",zt,[a("h4",Ot,[Z(" Added Nodes ("+C(i.selectedNodeList.length)+") ",1),J(F,{size:"small",style:{float:"right"},onClick:B},{default:ne(()=>[Z("Clear All")]),_:1})]),J(se,{modelValue:c.value,"onUpdate:modelValue":N[1]||(N[1]=m=>c.value=m),filterable:"",placeholder:"Type to search yours added nodes below...",clearable:"",style:{width:"100%"},onChange:D},{default:ne(()=>[(g(!0),p(O,null,G(i.selectedNodeList,(m,H)=>{var R;return g(),ce(V,{key:m.id,label:((R=m.metaData)==null?void 0:R.node)||m.label,value:H},null,8,["label","value"])}),128))]),_:1},8,["modelValue"])]),a("div",Ft,[a("div",{ref_key:"selectedNodesScrollContainer",ref:k,class:"selected-nodes-list"},[(g(!0),p(O,null,G(i.selectedNodeList,(m,H)=>(g(),p("div",{key:H,ref_for:!0,ref:R=>A(R,H),class:"select-node-item"},[a("div",{class:"node-header",style:Se({"border-left":"4px solid ".concat(m.selectedColor)})},[a("h3",{onClick:R=>_(m.idx),class:"node-title",style:Se({color:m.selectedColor})},C(m.hasAbbr?m.originalName+" ("+m.name+")":m.metaData.node),13,Pt),a("button",{class:"close-btn",onClick:R=>y(m.idx)}," × ",8,Rt)],4),a("div",Wt,[m&&m.metaData?(g(),ce(Ce,{key:0,currNode:m},null,8,["currNode"])):j("",!0)])]))),128))],512)])])])])}}}),jt=ue(Lt,[["__scopeId","data-v-b60eba41"]]),we=i=>(re("data-v-c62e54a2"),i=i(),de(),i),Vt={class:""},Gt={style:{height:"100vh"}},Ht={id:"viewport",style:{display:"flex"}},qt={id:"wrapper",style:{flex:"1",overflow:"hidden",height:"100%"}},Ut=we(()=>a("div",{id:"echart",style:{width:"100%",height:"100%"}},null,-1)),Xt=we(()=>a("span",{class:"icon"},"+",-1)),Yt=[Xt],Zt={class:"showAllNodes",style:{position:"absolute",right:"20px",top:"5px","z-index":"1000"}},Jt={style:{position:"absolute",right:"150px",top:"5px","z-index":"1000"}},Kt={__name:"echart3",setup(i){const z=P();let T=null,u={nodes:[],links:[]},x=1,y=null,B=!1,_=null,h=null;const c=P([]),k=P(1e6),I=P();let A=0,D=0,b=[];et(k,(t,o)=>{if(console.log("最大选择数量从 ".concat(o," 变更为 ").concat(t)),c.value.length>t){const e=c.value.slice(t);c.value=c.value.slice(0,t),console.log("由于限制变更，移除了以下节点:",e),alert("由于限制变更，已移除 ".concat(e.length," 个节点"))}});let N=1e3,F=1e3;tt(()=>{N=document.getElementById("echart").getBoundingClientRect().width,F=document.getElementById("echart").getBoundingClientRect().height;const t=Math.min(N,F);x=Math.max(2500/t,1),h=document.getElementById("plusButton"),Ue(),console.log("屏幕尺寸：",N,F,2500/t,x);const o=document.getElementById("echart");o&&(y=nt(o),Promise.all([fetch("./data/webui.json").then(e=>e.json()),fetch("./data/map.json").then(e=>e.json())]).then(([e,n])=>{console.log("webui:",e),console.log("map:",n),H(e.data_flow_graph),T=Ke(e,n),ge(1),u=K(T),Oe(y)}).catch(e=>{console.error("请求失败:",e)}),ot(()=>{y.dispose()}))});const V=P(!1),se=t=>{V.value=!V.value,t=V.value?5:1,ge(t),u=K(T),y.setOption({series:[{data:u.nodes,links:u.links}]}),y.setOption({series:[{center:[0,0]}]})},m=[],H=t=>{t.forEach(o=>{const e=o.from,n=o.to;if(e&&n){const s={source:"1_"+e,target:"1_"+n,type:"rootLink",content:o,label:{show:!0,formatter:o.data_type||o.label||"",color:"#000",fontSize:9,position:"middle"},lineStyle:{color:"#000",width:1,type:"dashed",opacity:1},symbol:["circle","arrow"],symbolSize:[4,8]};m.push(s)}}),console.log(m)};function R(t){const o=[{name:"test1",x:t,y:t},{name:"test2",x:-t,y:-t},{name:"test3",x:-t,y:t},{name:"test4",x:t,y:-t}];return console.log("Dddd"),o.map(e=>({...e,id:e.name,itemStyle:{opacity:0},label:{show:!1}}))}const Me=R(680),Te=t=>({0:0,1:125,2:215,3:310,4:400,5:500})[t]||420+(t-6)*40,W=["#686759","#0068B8","#62BDE4","#52E0FC","#86DCF8","#BAD7F3"],Ae={"Advanced Modeling Techniques":"#FF8364",Algorithms:"#5414E9",Workflow:"#00C6A2","Data Engineering":"#0368FF"},fe=t=>{let o;return t==0?o=5:t==1?o=100/x:t==2?o=80/x:t==3?o=70/x:t==4?o=38/x:o=30/x,o},De=(t,o)=>{if(console.log("!!@@@@",o,I.value),t<=1)return{color:W[t%W.length],borderColor:W[t%W.length],borderWidth:.5,opacity:1};{let e=!1;return I.value&&I.value.idx==o.idx&&(e=!0),{color:W[t%W.length],borderColor:W[t%W.length],borderWidth:.5,shadowColor:e?"rgb(43, 124, 233)":"transparent",shadowBlur:20}}},Ie=(t,o)=>({color:t==1?"rgba(0,0,0,.1)":Ae[o.level1Root]||"rgba(0,0,0,.4)",width:1}),Ee=(t,o=0,e="",n=0,s)=>{if(t>=5){let d=o*180/Math.PI;const v=Be(0,0,(s==null?void 0:s.x)+0,(s==null?void 0:s.y)+0,100,e),$=fe(5);return{show:!0,position:[v.dx+$,v.dy+$],fontSize:10,color:"#333",fontWeight:"normal",align:"center",verticalAlign:"middle",rotate:d>90&&d<270?180-d:-d}}let r={};return t==0?r={fontSize:12,color:"#333",fontWeight:"normal"}:r={position:"inside",fontSize:t===1?12:11,color:t==1?"#fff":"#333",verticalAlign:"middle",align:"center",fontWeight:t===1?"bold":"normal",width:200},r};function le(t,o=10,e="Arial"){const s=(le._canvas||(le._canvas=document.createElement("canvas"))).getContext("2d");return s.font="".concat(o,"px ").concat(e),s.measureText(t).width}const Be=(t,o,e,n,s=30,r)=>{r.length*3,s=le(r)/2+25;const v=e-t,$=n-o,l=Math.atan2($,v),S=l*(180/Math.PI),f=Math.cos(l)*s,E=Math.sin(l)*s;return{dx:f,dy:E,angleDeg:S}},K=t=>{function o(l){if(!l||l.visible===!1)return null;const S={...l};return S.children&&Array.isArray(S.children)&&(S.children=S.children.map(o).filter(f=>!!f)),S}const e=o(t);console.log("开始转换为 Graph 数据格式 treeData",e),b=e;const n=[],s=[],r=new Map;function d(l,S=0){function f(w){let M=1;return w<=1?M=1:w==1?M=.75:w==2?M=.5:w==3?M=.3:w==4?M=.25:M=.08,M}if(!l.children||l.children.length===0)return f(S);const E=l.children.reduce((w,M)=>w+d(M,S+1),0),U=f(S);return Math.max(E,U)}function v(l,S=null,f=0,E=0,U=2*Math.PI){if(!l||!l.name||l.visible===!1)return;const w=f<=1?f+"_"+(l.feature_path||l.name):f+"_"+(l.feature_path||l.name)+"_"+l.idx,M=Te(f);let L,ee=0,te=0;f===0?(ee=0,te=0,L=0):(L=(E+U)/2,ee=Math.cos(L)*M,te=Math.sin(L)*M);const Xe={id:w,idx:l.idx,name:l.name||"Unknown",originalName:l.originalName?l.originalName:null,hasAbbr:l.hasAbbr,feature_path:l.feature_path||"",level:f,metaData:l.metaData,x:ee,y:te,angle:L,sectorStart:E,sectorEnd:U,fixed:!0,symbolSize:l.symbolSize||fe(f),label:Ee(f,L,l.name||"",M,{x:ee,y:te}),itemStyle:l.itemStyle||De(f,l),category:f};if(f!=0&&n.push(Xe),r.set(l.name,w),S&&f>=2&&s.push({source:S,target:w,lineStyle:l.lineStyle||Ie(f,l)}),l.children&&l.children.length>0){const ye=l.children.map(Y=>d(Y,f+1)),Ye=ye.reduce((Y,ie)=>Y+ie,0);let be=U-E;f===0&&(be=2*Math.PI);let ae=E;l.children.forEach((Y,ie)=>{const Ze=ye[ie]/Ye*be,Je=ae,xe=ae+Ze;v(Y,w,f+1,Je,xe),ae=xe})}}v(e,null,0,0,2*Math.PI),console.log("Graph 节点布局完成，节点数量:",n.length,n,s),_e(e)<=2?m.forEach(l=>{l.label.show=!0}):m.forEach(l=>{l.label.show=!1});let $=[...m,...s];return console.log("!!!linksResult",$),{nodes:[...Me,...n],links:$}},ge=t=>{function o(e,n){e.visible=n<=t,e.children&&e.children.length>0&&e.children.forEach(s=>o(s,n+1))}T&&o(T,0)},ze=t=>{function o(s,r){if(s.idx===r)return s;if(s.children)for(const d of s.children){const v=o(d,r);if(v)return v}return null}const e=o(T,t);let n=!1;if(e&&e.children){for(const s of e.children)if(s.visible===!1){n=!0;break}e.children.forEach(s=>{if(s.visible=!s.visible,!s.visible&&s.children){const r=d=>{d.visible=!1,d.children&&d.children.forEach(r)};r(s)}})}return n},Oe=t=>{if(!u||!u.nodes||u.nodes.length===0){console.error("Graph 数据不存在或为空:",u);return}console.log("初始化 Graph 图表，节点数量:",u.nodes.length);var o={tooltip:{trigger:"item",triggerOn:"mousemove",extraCssText:"max-width: 400px; white-space: normal;",formatter:function(e){if(e.dataType==="node"){const n=e.data;let s="<strong>Node: </strong>".concat(n.hasAbbr?n.originalName+" ("+n.name+")":n.name," <br/>");return n.feature_path&&(s+="<strong>Feature Path: </strong> ".concat(n.feature_path,"<br/>")),s}if(e.dataType==="edge"&&e.data&&e.data.type==="rootLink"){let n="<strong>Flow Graph:</strong><br/>";return n+="<strong>From: </strong> ".concat(e.data.content.from,"<br/>"),n+="<strong>To: </strong> ".concat(e.data.content.to,"<br/>"),e.data.label&&e.data.label.formatter&&(n+="<strong>Data Type: </strong> ".concat(e.data.content.data_type,"<br/>")),n}return e.dataType==="edge"?"":e.name||""}},series:[{type:"graph",layout:"none",roam:"move",zoom:x,center:[0,0],data:u.nodes,links:u.links,symbol:"circle",symbolSize:30,label:{show:!0,position:function(e){return e&&e.data&&e.data.level>=5?"right":"inside"},fontSize:function(e){return e&&e.data&&e.data.level>=5?10:12},formatter:function(e){var n=e.name||"";if(e&&e.data&&e.data.level>=3)return n;for(var s=n.split(" "),r=[],d=0;d<s.length;d++){var v=s[d];r.push(v)}return r.join("\n")}},lineStyle:{color:"source",curveness:0,width:1},animationDurationUpdate:750,animationEasingUpdate:"quinticInOut"}]};t.setOption(o),t.on("mouseover",function(e){if(e.componentType==="series"&&e.dataType==="node"&&e.data.level>1){const n=e.data.idx;if(clearTimeout(X),q===n)return;q=n,pe(e.data)}}),t.on("mouseout",function(e){if(e.componentType==="series"&&e.dataType==="node"&&e.data.level>1){const n=e.data.idx;if(q!==n)return;clearTimeout(X),X=setTimeout(()=>{q===n&&!Ve()&&(Q(),q=null)},200)}}),setTimeout(()=>{[,,,,A,D]=t.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform(),console.log("初始偏移量:",{initialTranslateX:A,initialTranslateY:D})},100),t.on("graphRoam",function(){B=!0,Q(),setTimeout(()=>{B=!1,console.log("拖拽/缩放结束")},300),Re()}),t.on("mousedown",function(){console.log("mousedown"),B=!0,Q()}),t.on("mouseup",function(){console.log("mouseup"),setTimeout(()=>{B=!1,console.log("鼠标操作结束")},100)}),t.on("click",function(e){if(e.dataType==="node"){console.log("params.data",e.data),e.data.level>1?I.value=e.data:I.value=null;const n=e.data.idx;ze(n),u=K(T),t.setOption({series:[{data:u.nodes,links:u.links}]}),We(e.data)}})},me=t=>{console.log(u.nodes);const o=u.nodes.find(e=>e.idx===t);if(console.log("!!!",t,o),o){const e=u.nodes.findIndex(n=>n.idx===t);u.nodes[e].emphasis={itemStyle:{color:"rgb(43, 124, 233)"},label:{fontWeight:"bold",color:"#000"}},y.setOption({series:[{center:[o.x,o.y],data:u.nodes}]}),y.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:e}),setTimeout(()=>{y.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:e}),delete u.nodes[e].emphasis,y.setOption({series:[{data:u.nodes}]})},2e3),console.log("聚焦到节点: ".concat(t))}else console.log("节点 ".concat(t," 不在当前视图中，开始逐层展开")),Fe(t)},Fe=t=>{let o=!1;const e=(s,r)=>{if(!s)return!1;if(s.idx===r)return s.visible=!0,!0;if(s.children&&s.children.length>0){for(const d of s.children)if(e(d,r))return s.visible=!0,s.children.forEach(v=>{v.visible=!0}),!0}return!1};(()=>{o||(o=e(T,t),o&&(u=K(T),y.setOption({series:[{data:u.nodes,links:u.links}]}),me(t)))})()},Pe=t=>{console.log("22",t),me(t)},Re=()=>{let t=_e(b);console.log("depth",t);const e=y.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform(),[,,,,n,s]=e,r=1500/5*(t-1),d=Math.min((r-N)/2+N,r),v=Math.min((r-F)/2+F,r);let $=n,l=s;console.log(N,F),Math.abs(n-A)>d&&($=n>A?A+d:A-d),Math.abs(s-D)>v&&(l=s>D?D+v:D-v),console.log("&&",n,s),console.log("x移动了多少",Math.abs(n-A),"最多可拖拽",d),console.log("y移动了多少",Math.abs(s-D),"最多可拖拽",v),($!==n||l!==s)&&(ve(),console.log("aaa",$-n,l-s))},ve=()=>{y.setOption({series:[{center:[0,0],data:u.nodes}]}),setTimeout(()=>{y.setOption({series:[{data:u.nodes}]})},150)};function We(t){if(!y||!t)return;console.log("@@@",t);const o=y.convertToPixel({seriesIndex:0},[t.x,t.y]),e=y.getDom(),n=e.offsetWidth,s=e.offsetHeight,r=y.getModel().getSeriesByIndex(0).option.zoom,d=80*r,[v,$]=o;let l=!1;if((v<d||v>n-d||$<d||$>s-d)&&(l=!0),l){console.log("needMove");const{x:S,y:f}=t,E=Math.sqrt(S*S+f*f);if(E===0)return;const w=Math.max(0,E-200/r)/E,M=S*w,L=f*w;y.setOption({series:[{center:[M,L]}]})}}const Le=t=>{c.value.some(e=>e.idx===t.idx)?c.value=c.value.filter(e=>e.idx!==t.idx):(c.value.unshift(t),z.value.handleNodeSearch(0))},je=()=>{if(!(_&&_.level<=1)&&_){const t=_.idx;if(c.value.some(e=>e.idx===t))console.log("点击减号，移除节点:",_),c.value=c.value.filter(e=>e.idx!==t);else{if(c.value.length>=k.value){alert("最多只能选择 ".concat(k.value," 个节点！"));return}console.log("点击加号，添加节点:",_),c.value.unshift(_),z.value.handleNodeSearch(0),console.log("!!!!",c)}console.log("当前选择的节点列表:",c.value),pe(_)}},pe=t=>{if(!(!h||B))try{const o=c.value.some(l=>l.idx===t.idx),e=y.convertToPixel("series",[t.x,t.y]),n=t.symbolSize||30;console.log(e);const r=y.getModel().getSeriesByIndex(0).coordinateSystem.getRoamTransform();let d=1;Array.isArray(r)&&r.length===6?d=r[0]:r&&typeof r.zoom=="number"&&(d=r.zoom);const v=n/2*d*Math.sin(Math.PI/4),$=-n/2*d*Math.sin(Math.PI/4);h.style.left=e[0]+v+"px",h.style.top=e[1]+$+"px",h.style.display="flex",o?(h.getElementsByClassName("icon")[0].textContent="−",h.style.backgroundColor="#f56c6c",h.title="点击取消选择"):c.value.length>=k.value?(h.getElementsByClassName("icon")[0].textContent="+",h.style.backgroundColor="#909399",h.title="已达到最大选择数量 (".concat(c.value.length,"/").concat(k.value,")")):(h.getElementsByClassName("icon")[0].textContent="+",h.style.backgroundColor="#409eff",h.title="点击选择节点 (".concat(c.value.length,"/").concat(k.value,")")),_=t}catch(o){console.error("显示按钮失败:",o)}},Q=()=>{clearTimeout(X),h&&(h.style.display="none"),_=null,q=null},Ve=()=>h?h.matches(":hover"):!1,Ge=t=>{c.value=c.value.filter(o=>o.idx!==t),console.log("移除节点:",t),console.log("当前选择的节点列表:",c.value)},He=()=>{c.value=[]},qe=t=>{k.value=t,console.log("从组件更新最大选择节点数量为:",t)},Ue=()=>{h&&(h.addEventListener("mouseenter",()=>{console.log("鼠标进入加号按钮"),clearTimeout(X)}),h.addEventListener("mouseleave",()=>{console.log("鼠标离开加号按钮"),Q()}))};let X=null,q=null;return(t,o)=>{const e=oe("el-button");return g(),p("div",Vt,[a("div",Gt,[a("div",Ht,[J(jt,{ref_key:"selectedNodesPanelRef",ref:z,style:{width:"20%","min-width":"300px","max-width":"600px"},selectedNodeList:c.value,maxSelectedNodes:k.value,currNode:I.value,onRemoveSelectedNode:Ge,onClearAllSelectedNodes:He,onUpdateMaxNodes:qe,onHandleSelectedNodeClick:Pe,onHandleCurrNodePlusClick:Le},null,8,["selectedNodeList","maxSelectedNodes","currNode"]),a("div",qt,[Ut,a("div",{id:"plusButton",class:"plus-button",style:{display:"none"},onClick:je},Yt),a("div",Zt,[J(e,{style:{width:"120px"},color:"rgb(43, 124, 233)",type:"primary",onClick:o[0]||(o[0]=n=>se(V.value))},{default:ne(()=>[Z(C(V.value?"Close All Nodes":"Show All Nodes"),1)]),_:1})]),a("div",Jt,[J(e,{class:"center-view-btn",style:{width:"120px"},color:"rgb(43, 124, 233)",onClick:ve},{default:ne(()=>[Z(" Center View")]),_:1})])])])])])}}},oo=ue(Kt,[["__scopeId","data-v-c62e54a2"]]);export{oo as default};
