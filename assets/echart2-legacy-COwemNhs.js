!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}System.register(["./index-legacy-Ds2O1RuX.js","./index-legacy-CIWNpSy3.js"],(function(t,r){"use strict";var o,a,l,i,c,u,f,s,h;return{setters:[function(e){o=e.i},function(e){a=e._,l=e.o,i=e.a,c=e.b,u=e.c,f=e.p,s=e.e,h=e.d}],execute:function(){var r=document.createElement("style");r.textContent="#viewport[data-v-3a585f2f]{width:100vw;height:calc(100vh - 40px);overflow:hidden;position:relative}#wrapper[data-v-3a585f2f],#echart[data-v-3a585f2f]{width:100%;height:100%}\n",document.head.appendChild(r);var d={class:""},m=[function(e){return f("data-v-3a585f2f"),e=e(),s(),e}((function(){return h("div",{class:"header"},[h("h3",null,"echart"),h("div",{id:"viewport"},[h("div",{id:"wrapper"},[h("div",{id:"echart",style:{width:"100%",height:"100%"}})])])],-1)}))],y={__name:"echart2",setup:function(t){var r=null;l((function(){var e=document.getElementById("echart");if(e){var t=o(e);fetch("./data/webui.json").then((function(e){return e.json()})).then((function(e){f(e),b(t)})),i((function(){t.dispose()}))}}));var a=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=o?"".concat(o,"/").concat(r):r;if(Array.isArray(t))return t.map((function(e){var t=l+1;return{name:e,feature_path:"".concat(i,"/").concat(e),level:t,symbolSize:h(t),label:p(t),itemStyle:y(t),lineStyle:v(t)}}));if("object"===n(t)&&null!==t){for(var c=[],u=function(){var t=e(s[f],2),r=t[0],o=t[1];if(Array.isArray(o))c.push({name:r,feature_path:"".concat(i,"/").concat(r),level:l,symbolSize:h(l),label:p(l),itemStyle:y(l),lineStyle:v(l),children:o.map((function(e){var t=l+1;return{name:e,feature_path:"".concat(i,"/").concat(r,"/").concat(e),level:t,symbolSize:h(t),label:p(t),itemStyle:y(t),lineStyle:v(t)}}))});else if("object"===n(o)){var u=a(o,r,i,l+1);Array.isArray(u)?c.push({name:r,feature_path:"".concat(i,"/").concat(r),level:l,symbolSize:h(l),label:p(l),itemStyle:y(l),lineStyle:v(l),children:u}):c.push({name:r,feature_path:"".concat(i,"/").concat(r),level:l,symbolSize:h(l),label:p(l),itemStyle:y(l),lineStyle:v(l),children:u.children||[]})}},f=0,s=Object.entries(t);f<s.length;f++)u();return c}return{name:t,feature_path:i}},f=function(e){if(e&&e.subtrees&&e.subtrees.length>0){var t=[];e.subtrees.forEach((function(e,n){if(e.refactored_subtree){var r=e.name||"Subtree_".concat(n+1),o=a(e.refactored_subtree,r,"",2),l={name:r,feature_path:"".concat(e.file_path||r),level:1,symbolSize:h(1),label:p(1),itemStyle:y(1),lineStyle:v(1),children:o};t.push(l)}}));var n={name:"root",feature_path:"root",level:0,symbolSize:h(0),label:p(0),itemStyle:y(0),lineStyle:v(0),children:t};return console.log("!!!!",t),console.log("数据转换完成:",n),console.log("处理了 ".concat(t.length," 个subtree组")),r=n,n}return console.warn("数据格式不正确，使用默认数据"),e},s=["#686759","#B04B35","#E37C05","#5F9DBF","#568651","#B89C80"],h=function(e){return 0==e?5:1==e?50:e<=4?30:3},y=function(e){return{color:s[e%s.length],borderColor:s[e%s.length],borderWidth:.5}},v=function(e){return{color:s[e%s.length],width:.5}},p=function(e){return e>=5||0==e?{fontSize:10,color:"#333",fontWeight:1===e?"bold":"normal"}:{position:"inside",fontSize:10,color:"#333",verticalAlign:"middle",align:"center",fontWeight:1===e?"bold":"normal",width:100}},b=function(e){var t={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",roam:!0,data:[r],top:"0%",bottom:"0%",layout:"radial",symbol:"circle",symbolSize:30,initialTreeDepth:6,animationDurationUpdate:750,emphasis:{focus:"descendant"},label:{show:!0,overflow:"break",formatter:function(e){console.log(e,e.level);var t=e.name||"";if(e.data.level>=5)return t;for(var n=t.split(" "),r=[],o=0;o<n.length;o++){var a=n[o];if(-1!==a.indexOf("-"))for(var l=a.split("-"),i=0;i<l.length;i++)r.push(l[i]),i<l.length-1&&r.push("-");else r.push(a)}return r.join("\n")}},tooltip:{trigger:"item",triggerOn:"mousemove",formatter:function(e){var t=e.data,n="";return t&&t.name&&(n+="<strong>节点名称:</strong> ".concat(t.name,"<br/>"),t.feature_path&&(n+="<strong>路径:</strong> ".concat(t.feature_path))),n||e.name||""}},lineStyle:{curveness:0},labelLayout:{hideOverlap:!0}}]};e.setOption(t)};return function(e,t){return c(),u("div",d,m)}}};t("default",a(y,[["__scopeId","data-v-3a585f2f"]]))}}}))}();
